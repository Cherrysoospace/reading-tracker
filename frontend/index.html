<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Reading Tracker Kawaii - Dashboard para seguimiento de lectura">
    <title>ğŸ“š Reading Tracker - Dashboard</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Quicksand para estilo Kawaii -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    
    <!-- Navbar Kawaii -->
    <nav class="navbar navbar-expand-lg sticky-top shadow-sm mb-4" style="background-color: var(--kawaii-pink); border-bottom: 3px solid white;">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="index.html" style="color: var(--text-color); font-size: 1.3rem;">
                ğŸ“š Reading Tracker
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"
                    style="border: 2px solid white; border-radius: 10px;">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active px-3" href="index.html" style="border-radius: 10px; font-weight: 500;">
                            ğŸ  Inicio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="books.html" style="border-radius: 10px; font-weight: 500;">
                            ğŸ“– Mis Libros
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="sessions.html" style="border-radius: 10px; font-weight: 500;">
                            â±ï¸ Sesiones
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="stats.html" style="border-radius: 10px; font-weight: 500;">
                            ğŸ“Š EstadÃ­sticas
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        
        <!-- SecciÃ³n de Bienvenida -->
        <section class="welcome-section text-center mb-5">
            <div class="card p-5 shadow" style="background: linear-gradient(135deg, var(--kawaii-blue) 0%, var(--kawaii-purple) 100%); border-radius: 25px; border: 3px solid white;">
                <h1 class="display-4 fw-bold mb-3" style="color: var(--text-color);">
                    Â¡Hola! Â¿QuÃ© vamos a leer hoy? âœ¨
                </h1>
                <p class="lead" style="color: var(--text-color); font-size: 1.2rem;">
                    Bienvenido a tu espacio personal de lectura ğŸ“šğŸ’•
                </p>
            </div>
        </section>

        <!-- Contenedor de MÃ©tricas (MÃXIMA PRIORIDAD) -->
        <section class="stats-section mb-5">
            <h2 class="text-center fw-bold mb-4" style="color: var(--text-color); font-size: 2rem;">
                ğŸ“Š Tus EstadÃ­sticas
            </h2>
            
            <!-- Este div serÃ¡ poblado por JavaScript -->
            <div id="stats-container">
                <!-- Estado de Carga -->
                <div class="text-center py-5">
                    <div class="spinner-border text-primary mb-3" role="status" style="width: 4rem; height: 4rem; border-width: 4px;">
                        <span class="visually-hidden">Cargando...</span>
                    </div>
                    <p class="lead text-muted">âœ¨ Cargando tus estadÃ­sticas kawaii... âœ¨</p>
                </div>
            </div>
        </section>

        <!-- SecciÃ³n de Acceso RÃ¡pido -->
        <section class="quick-actions-section">
            <h2 class="text-center fw-bold mb-4" style="color: var(--text-color); font-size: 2rem;">
                ğŸš€ Acciones RÃ¡pidas
            </h2>
            
            <div class="row g-4 justify-content-center">
                <div class="col-md-5 col-lg-4">
                    <div class="card text-center p-4 shadow-sm h-100" style="background-color: var(--kawaii-yellow); border-radius: 20px; border: 3px solid white; transition: transform 0.3s;">
                        <div class="card-body d-flex flex-column justify-content-center">
                            <div class="display-1 mb-3">ğŸ“</div>
                            <h4 class="card-title fw-bold mb-3">Registrar SesiÃ³n</h4>
                            <p class="card-text mb-4">Â¿Acabas de leer? Â¡Registra tu progreso aquÃ­!</p>
                            <a href="sessions.html" class="btn btn-kawaii btn-lg mt-auto" style="border-radius: 15px; padding: 12px 30px; font-weight: 600;">
                                â±ï¸ Registrar Ahora
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-5 col-lg-4">
                    <div class="card text-center p-4 shadow-sm h-100" style="background-color: var(--kawaii-purple); border-radius: 20px; border: 3px solid white; transition: transform 0.3s;">
                        <div class="card-body d-flex flex-column justify-content-center">
                            <div class="display-1 mb-3">ğŸ“š</div>
                            <h4 class="card-title fw-bold mb-3">AÃ±adir Libro</h4>
                            <p class="card-text mb-4">Â¿Nuevo libro? Â¡AgrÃ©galo a tu biblioteca!</p>
                            <a href="books.html" class="btn btn-kawaii btn-lg mt-auto" style="border-radius: 15px; padding: 12px 30px; font-weight: 600;">
                                â• AÃ±adir Libro
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SecciÃ³n de MotivaciÃ³n Extra -->
        <section class="motivation-section mt-5">
            <div class="card text-center p-4 shadow-sm" style="background-color: var(--kawaii-blue); border-radius: 20px; border: 3px solid white;">
                <div class="card-body">
                    <h5 class="card-title fw-bold mb-3">ğŸ’¡ Tip del dÃ­a</h5>
                    <p class="card-text mb-0" style="font-size: 1.1rem;">
                        "La lectura es un viaje que nunca termina. Â¡Disfruta cada pÃ¡gina!" ğŸŒŸğŸ“–
                    </p>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer Kawaii -->
    <footer class="text-center py-4 mt-5" style="background-color: var(--kawaii-pink); border-top: 3px solid white;">
        <p class="mb-0" style="color: var(--text-color); font-weight: 500;">
            âœ¨ Reading Tracker Kawaii 2026 âœ¨
        </p>
        <small style="color: var(--text-color);">Hecho con ğŸ’• para los amantes de la lectura</small>
    </footer>

    <!-- Bootstrap 5 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Debug: Contador de recargas -->
    <script>
        // Incrementar contador de recargas en sessionStorage
        const reloadCount = parseInt(sessionStorage.getItem('reloadCount') || '0') + 1;
        sessionStorage.setItem('reloadCount', reloadCount.toString());
        console.log(`ğŸ”„ PÃ¡gina cargada ${reloadCount} vez/veces en esta sesiÃ³n`);
        
        // Si hay muchas recargas, algo estÃ¡ mal
        if (reloadCount > 3) {
            console.error('âš ï¸ ALERTA: Demasiadas recargas detectadas!');
            console.error('Esto puede indicar un loop infinito.');
            console.error('Revisa la consola para ver errores.');
        }
    </script>
    
    <!-- Main JavaScript Module -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Hover Effects for Quick Actions Cards -->
    <style>
        .quick-actions-section .card:hover {
            transform: scale(1.05);
            cursor: pointer;
            box-shadow: 8px 8px 0px var(--kawaii-pink) !important;
        }
        
        .nav-link {
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .nav-link.active {
            background-color: white !important;
            color: var(--text-color) !important;
        }
    </style>

</body>
</html>